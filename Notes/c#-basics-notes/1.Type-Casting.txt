I’ll break everything down into:

What is type casting?

Two main categories

Implicit casting

Explicit casting

Convert class

Parse & TryParse

Casting reference types (OOP)

as keyword

is keyword & pattern matching

Best practices

Let’s go step by step.


✅ 1. What is Type Casting?

Type casting means changing one data type into another.

Example:

int x = 10;
double y = x; // casting int → double

✅ 2. Two Main Categories of Casting

✔ Implicit Casting (Automatic)

Compiler converts the value automatically — safe, no data loss.

✔ Explicit Casting (Manual)

YOU force the conversion — may cause data loss or errors.

in other word:

Implicit Casting (automatically) - converting a smaller type to a larger type size
char -> int -> long -> float -> double

Explicit Casting (manually) - converting a larger type to a smaller size type
double -> float -> long -> int -> char


✅ 3. Implicit Casting (Automatic)

Happens when converting smaller → larger types.

Examples:

int → long

long → float

float → double

char → int

Example:
int a = 100;
double b = a; // implicit: int → double

Console.WriteLine(b); // 100


Why safe?
Because a double can store ALL integer values without losing data.

✅ 4. Explicit Casting (Manual)

Required when converting larger → smaller or risky conversions.

Examples:

double → int

float → int

long → int

Example:
double a = 9.7;
int b = (int)a;  // explicit cast

Console.WriteLine(b); // 9 (decimal is lost)


Data loss possible!

Another example:

long big = 9999999999;
int small = (int)big; // OVERFLOW, incorrect value

⚠️ Separate: Casting fails for non-compatible types

Example (Will NOT work):

string s = "Hello";
int x = (int)s; // ❌ NOT ALLOWED


You cannot cast unrelated types directly.

For this you use Convert, Parse, or TryParse.

✅ 5. Convert Class (Safe-ish Way to Convert)

Used for converting between unrelated types (int ↔ string).

Example:
string s = "100";
int x = Convert.ToInt32(s);

Console.WriteLine(x); // 100


Other examples:

Convert.ToDouble("12.5");
Convert.ToBoolean("true");
Convert.ToString(123);
Convert.ToInt64(123.45); // rounds


If conversion fails → throws exception.

✅ 6. Parse() and TryParse()
✔ Parse

Use when you’re sure the string is valid.

string s = "250";
int x = int.Parse(s);


If invalid → exception.

✔ TryParse (Recommended)

Never throws exceptions.
Returns true or false.

string s = "250";
int number;

bool success = int.TryParse(s, out number);

if (success)
    Console.WriteLine(number);
else
    Console.WriteLine("Invalid number");

✅ 7. Casting Reference Types (OOP)

For objects, casting works with inheritance.

Example:

class Animal {}
class Dog : Animal {}

Animal a = new Dog();        // implicit upcasting
Dog d = (Dog)a;              // explicit downcasting

❗ Upcasting = Safe

Dog → Animal

❗ Downcasting = Risky

Animal → Dog (not every Animal is a Dog)
Use as or is to avoid exceptions.

✅ 8. The as Keyword (Safe Downcasting)

Does NOT throw exception.
If cast fails → returns null.

Animal a = new Animal();
Dog d = a as Dog;

if (d == null)
    Console.WriteLine("Not a dog");

✅ 9. The is Keyword + Pattern Matching

Check type before casting.

Old style:
if (a is Dog)
{
    Dog d = (Dog)a;
}

Modern C# pattern matching:
if (a is Dog d)
{
    // You can use 'd' directly
}


Summary Table

| Conversion Type     | Example       | Risk?               |
| ------------------- | ------------- | ------------------- |
| Implicit casting    | int → double  | No                  |
| Explicit casting    | double → int  | Yes                 |
| Convert.To…         | string → int  | Medium (exceptions) |
| int.Parse()         | string → int  | High (exceptions)   |
| int.TryParse()      | string → int  | No (safe)           |
| Upcasting (class)   | Dog → Animal  | No                  |
| Downcasting (class) | Animal → Dog  | Yes                 |
| `as` keyword        | safe downcast | No exception        |
| `is` keyword        | type check    | No                  |
